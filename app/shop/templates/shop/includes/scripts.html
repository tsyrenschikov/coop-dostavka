{% load static %}
<!-- Javascripts -->
	<script src="{% static 'file/shop/js/jquery-3.3.1.min.js' %}"></script>
	<script src="{% static 'file/shop/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
	<script src="{% static 'file/shop/vendor/OwlCarousel/owl.carousel.js' %}"></script>
	<script src="{% static 'file/shop/vendor/semantic/semantic.min.js' %}"></script>
	<script src="{% static 'file/shop/js/jquery.countdown.min.js' %}"></script>
	<script src="{% static 'file/shop/js/custom.js' %}"></script>
	<script src="{% static 'file/shop/js/offset_overlay.js' %}"></script>
	<script src="{% static 'file/shop/js/night-mode.js' %}"></script>
    <script src="{% static 'file/shop/js/sidebar.js' %}"></script>
    <script src="{% static 'file/shop/js/script_tel.js' %}"></script>
    <script src="{% static 'file/shop/js/user_password.js' %}"></script>

<!-- Search-->
<script>
    $(function() {
    $('#search-input').on('focus', function() {
      $('.nav-search').addClass('active');
    })

    $('#search-input').on('keyup', function() {
      $('#hits-container').scrollTop(0);
    })

    $('.close-search').on('click', function(evt) {
      evt.preventDefault();
      $('#search-input').val('');
       $('.nav-search').removeClass('active');
     })

   $('#search-input').on('blur', function(evt) {
     if(!evt.isDefaultPrevented) {
       console.log("blur");
      $('.nav-search').removeClass('active');
     }
    })



    let search = instantsearch({
      appId: 'TCEAIJWSQQ',
      apiKey: '0a339ae0728b5cb0c3e80fd18141c8cd',
      indexName: 'bt_support_articles',
      searchParameters: {replaceSynonymsInHighlight: false},
      searchFunction: function(helper) {
         var searchResults = $('.search-results');
         if (helper.state.query === '') {
           searchResults.hide();
           return;
         }
         helper.search();
         searchResults.show();
       }
    });

        // add a searchBox widget
    search.addWidget(
      instantsearch.widgets.searchBox({
        container: '#search-input',
        placeholder: 'Search for libraries in France...'
      })
    );

    // add a hits widget
    search.addWidget(
      instantsearch.widgets.hits({
        container: '#hits-container',
        hitsPerPage: 10,
        debug: true,
        templates: {
          item: '<a href="{{href}}" target="_blank">ыывzxzxzx</a>',
          empty: '<div id="no-results-message"> <p>По вашему запросу ничего не найдено</p></div>'
        }
      })
    );

    // start
    search.start();
});

function toTitleCase(str) {
    return str.replace(/(?:^|\s)\w/g, function(match) {
        return match.toUpperCase();
    });
}
</script>
<!-- END Search -->
	<script>
    //global grecaptcha
    grecaptcha.ready(function() {
      grecaptcha.execute('{{recaptcha_site_key}}', {action: "/contact/"}).then(function(token) {
        document.getElementById('g-recaptcha-response').value = token;
      });
    });
  	</script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DZV7WLHDFF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DZV7WLHDFF');
</script>

	<!-- Vendor Stylesheets -->
	<link href="{% static 'file/shop/vendor/fontawesome-free/css/all.min.css' %}" rel="stylesheet">
	<link href="{% static 'file/shop/vendor/OwlCarousel/assets/owl.carousel.css' %}" rel="stylesheet">
	<link href="{% static 'file/shop/vendor/OwlCarousel/assets/owl.theme.default.min.css' %}" rel="stylesheet">
	<link href="{% static 'file/shop/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="{% static 'file/shop/vendor/semantic/semantic.min.css' %}">
