{% extends 'panel/layouts/base.html' %}
{% load static %}
{% block stylesheet %}
    <link rel='stylesheet' href="{% static 'file/panel/css/bootstrap.min.css' %}">
    <link rel='stylesheet' href="{% static 'file/panel/css/select/style.css' %}">
{% endblock stylesheet %}
{% block js %}
    <!-- Скрипты для выбора из разных окон -->
    <script src="{% static 'file/panel/js/select/script.js' %}"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js'></script>
{% endblock js %}
{% block title %}panel{% endblock %}
{% block content %}
    <main>
        <div class="container-fluid">
            <h2 class="mt-30 page-title">Локации</h2>
            <ol class="breadcrumb mb-30">
                <li class="breadcrumb-item"><a href="{% url 'panel' %}">Панель управления</a></li>
                <li class="breadcrumb-item"><a href="{% url 'locations' %}">Локации</a></li>
                <li class="breadcrumb-item active">Редактировать локацию</li>
            </ol>
            <div class="row">
                <div class="col-lg-12 col-md-12">
                    <div class="card card-static-2 mb-30">
                        <div class="card-title-2">
                            <h4>Добавить населенный пункт</h4>
                        </div>
                        <div class="card-body-table">
                            <form method="post">
                                {% csrf_token %}
                                <div class="news-content-right pd-20">
                                    <div class="form-group">
                                        <label class="form-label">Название населенного пункта*</label>
                                        <input type="text" name="name" class="form-control" value="{{ local.name }}" placeholder="Название населенного пункта">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Магазин доставки*</label>
                                        <select name="slug" value="{{ local.slug }}" class="form-control">
                                            {% for name,slug in shops %}
                                                {% if slug == local.slug %}
                                                    <option value="{{ slug }}" selected>{{ name }}</option>
                                                {% endif %}
                                                {% if slug != local.slug %}
                                                    <option value="{{ slug }}">{{ name }}</option>
                                                {% endif %}
                                            {% endfor %}
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Плата за доставку*</label>
                                        <input type="text" name="delivery_price" class="form-control" value="{{ local.delivery_price }}" placeholder="0 р.">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Минимальная сумма заказа для бесплатной доставки*</label>
                                        <input type="text" name="delivery_price_min" class="form-control" value="{{ local.delivery_price_min }}" placeholder="0 р.">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Дни недели поставки</label>
                                    </div>
                                    <div class="col-lg-5 col-sm-5 col-xs-12">
                                        <div class="panel panel-default">
                                            <div class="panel-heading">Доступные дни</div>
                                            <select name="from" id="multiselect" class="form-control" size="8" multiple="multiple">
                                                {% for days in days %}
                                                    <option value="{{ days.name }}">{{ days.name }}</option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>

                                    <div class="multiselect-controls col-lg-2 col-sm-2 col-xs-12">
                                        <button type="button" id="multiselect_rightSelected" class="btn btn-block">Добавить<i class="glyphicon glyphicon-chevron-right"></i></button>
                                        <button type="button" id="multiselect_leftSelected" class="btn btn-block">Удалить<i class="glyphicon glyphicon-chevron-left"></i></button>
                                    </div>
                                    <div class="col-lg-5 col-sm-5 col-xs-12">
                                        <div class="panel panel-default">
                                            <div class="panel-heading">Выбранные дни</div>
                                            <select name="day" id="multiselect_to" class="form-control" size="8" multiple="multiple">
                                                {% for l in local.days %}
                                                    <option dayselect="{{ l }}"> {{ l|cut:'['|cut:']'|cut:"'" }} </option>
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                    <input id="daysel" type="hidden" value="" name="days_numb">
                                    <button class="save-btn hover-btn" type="submit">Сохранить</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
{% endblock content %}