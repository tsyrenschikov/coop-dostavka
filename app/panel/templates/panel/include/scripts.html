{% load static %}

<!-- Javascripts -->
<script src="{% static 'file/panel/js/jquery-3.4.1.min.js' %}"></script>
<script src="{% static 'file/panel/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'file/panel/js/scripts.js' %}"></script>
<script src="{% static 'file/panel/vendor/chart/highcharts.js' %}"></script>
<script src="{% static 'file/panel/vendor/chart/exporting.js' %}"></script>
<script src="{% static 'file/panel/vendor/chart/export-data.js' %}"></script>
<script src="{% static 'file/panel/vendor/chart/accessibility.js' %}"></script>
<script src="{% static 'file/panel/js/chart.js' %}"></script>
<script src="{% static 'file/panel/js/slug.js' %}"></script>

<!-- Select Days -->
<script src="https://code.jquery.com/jquery-3.5.0.js"></script>
<script src="{% static 'file/panel/js/select/select_days.js' %}"></script>

<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
        integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous">
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
        integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous">
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
        integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous">
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>


<!-- Календарь -->
<script src="https://cdn.jsdelivr.net/npm/zebra_pin@2.0.0/dist/zebra_pin.min.js"></script>
<script src="{% static 'file/panel/calendar/js/zebra_datepicker.min.js' %}"></script>
<script src="{% static 'file/panel/calendar/js/examples.js' %}"></script>

<!--Расчет Сдачи-->
<script src="{% static 'file/panel/js/total_change.js' %}"></script>

<script src="{% static 'file/shop/js/script_tel2.js' %}"></script>

<!-- Reload Back -->
<script src="{% static 'file/panel/js/reload-back.js' %}"></script>

<!-- Checkend -->
<script src="{% static 'file/panel/js/checken.js' %}"></script>

<!-- Latest compiled and minified JavaScript -->
<script src="{% static 'file/panel/js/bootstrap-select.min.js' %}"></script>

<!-- (Optional) Latest compiled and minified JavaScript translation files -->

<!-- Select edit and add -->
<script src="{% static 'file/panel/js/chosen.jquery.js' %}" type="text/javascript"></script>
<script src="{% static 'file/panel/js/docsupport/prism.js' %}" type="text/javascript" charset="utf-8"></script>
<script src="{% static 'file/panel/js/docsupport/init.js' %}" type="text/javascript" charset="utf-8"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/i18n/defaults-*.min.js"></script>

<!-- Search product -->
<script src="{% static 'file/panel/js/searchproduct/jquery.min.js' %}"></script>
<script src="{% static 'file/panel/js/searchproduct/jquery-ui.min.js' %}"></script>
<script>
    var list_product = [{% for product in products %}'{{ product.name }}',{% endfor %}];
    var list=[]
        $.each(list_product, function (index, value) {
        val=value.replace(/(&quot;)/g, '"');
        list.push(val)

    });
    console.log(list)


    $("#search_field").autocomplete({
        source: function (request, response) {
            var results = $.ui.autocomplete.filter(list, request.term);
            response(results.slice(0, 7));
        },
        appendTo: ".search",
        autoFocus: false,
        minLength: 1,
    });

    $.ui.autocomplete.prototype._renderItem = function (ul, item) {
        item.label = item.label.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)(" + $.ui.autocomplete.escapeRegex(this.term) + ")(?![^<>]*>)(?![^&;]+;)", "gi"),
            "<strong>$1</strong>");
        return $("<li></li>")
            .data("item.autocomplete", item)
            .append("<a>" + item.label + "</a>")
            .appendTo(ul);
    };
</script>
{% block javascripts %}{% endblock javascripts %}